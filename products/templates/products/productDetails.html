{% extends 'base.html' %}
{% load static %}

{% block title %}Product Details - Gila Electric{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'products/css/product_details.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="row">

    <!-- Images Section -->
    <div class="images-section">

      <!-- Thumbnails -->
      <div class="thumbnails-column">
        <img class="thumbnail-img" src="{% static 'core/img/placeholder.jpg' %}">
        <img class="thumbnail-img" src="{% static 'core/img/placeholder.jpg' %}">
        <img class="thumbnail-img" src="{% static 'core/img/placeholder.jpg' %}">
        <img class="thumbnail-img" src="{% static 'core/img/placeholder.jpg' %}">
      </div>

      <!-- Primary Image -->
      <div class="primary-image-column">
        <img id="primary-image" src="{% static 'core/img/placeholder.jpg' %}" alt="Primary Product" class="img-fluid" style="height: 500px; object-fit: cover;">
      </div>
    </div>

    <!-- Details Card -->
    <div class="details-card-section">
      <div class="card p-4 shadow-sm h-100">
        <!-- Title -->
        <h2 id="product-title" class="mb-2">Product Title</h2>

        <!-- Reviews + Stock -->
        <div class="mb-2 d-flex align-items-center gap-2">
          <div id="product-rating" class="text-warning">⭐⭐⭐⭐⭐</div>
          <div id="review-count" class="text-muted">(0 reviews)</div>
          <div id="stock-status" class="ms-auto text-success">In Stock</div>
        </div>

        <!-- Price -->
        <div class="mb-3">
          <span id="product-price" class="h4 text-danger fw-bold">$0.00</span>
          <span id="product-discount-price" class="text-muted text-decoration-line-through ms-2">$0.00</span>
        </div>

        <!-- Description -->
        <p id="product-description" class="mb-3">This is the product description.</p>

        
        <!-- Size -->
        <div class="mb-3">
          <label class="form-label fw-bold">Size:</label>
          <select id="product-size" class="form-select w-auto">
            <option>S</option>
            <option>M</option>
            <option>L</option>
            <option>XL</option>
          </select>
        </div>

        <!-- Quantity -->
        <div class="mb-3 d-flex align-items-center gap-2">
          <label class="form-label fw-bold mb-0">Quantity:</label>
          <div class="input-group w-auto">
            <button class="btn btn-outline-secondary" type="button" id="qty-minus">-</button>
            <input type="text" class="form-control text-center" id="qty-input" value="1" style="width:50px;">
            <button class="btn btn-outline-secondary" type="button" id="qty-plus">+</button>
          </div>
        </div>

        <!-- Buy & Wishlist -->
        <div class="d-flex gap-2 mt-3">
          <button id="buy-now-btn" class="btn flex-grow-1">Buy Now</button>
          <button id="add-wishlist-btn" class="btn btn-outline-secondary"><i class="bi bi-heart"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Thumbnail click
  document.querySelectorAll('.thumbnail-img').forEach(img => {
    img.addEventListener('click', e => {
      document.getElementById('primary-image').src = e.target.src;
    });
  });

  // Quantity buttons
  const qtyInput = document.getElementById('qty-input');
  document.getElementById('qty-minus').addEventListener('click', () => {
    let val = parseInt(qtyInput.value);
    if(val > 1) qtyInput.value = val - 1;
  });
  document.getElementById('qty-plus').addEventListener('click', () => {
    qtyInput.value = parseInt(qtyInput.value) + 1;
  });
</script>
<script src="{% static 'products/js/product_details.js' %}"></script>
{% endblock %}
